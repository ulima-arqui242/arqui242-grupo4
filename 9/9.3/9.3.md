# 9.3. Iteración 2: Identificar estructuras para soportar la funcionalidad primaria

### Paso 1: Revisar Entradas

| **Propósito de Diseño**                              | **Funcionalidad Primaria**                    | **Escenarios de Calidad**                        | **Restricciones y Preocupaciones de Arquitectura**               |
|------------------------------------------------------|-----------------------------------------------|-------------------------------------------------|-------------------------------------------------------------------|
| **Identificar estructuras para soportar la funcionalidad primaria** | CU01, CU02, CU03,CU04,CU05, CU06, CU08, CU09,CU13,CU15 | QA-01, QA-02, QA-03, QA-04, QA-06,QA-07,QA-08 ,QA-09             | CON-01, CON-02, CON-03, CON-04, CON-05, CON-06, CON-07, CRN-01, CRN-02, CRN-03,CRN-09,CRN-10 |

### Paso 2: Establecer objetivo de la iteración

El objetivo de esta iteración es realizar el diseño y la implementación inicial de los módulos de reservas, pagos, solicitudes, notificaciones y junta de inquilinos. Esto incluirá la estructuración de bases de datos, la integración de servicios clave (como pagos y notificaciones), y la validación de que las funcionalidades clave de los casos de uso 

### Paso 3: Elegir uno o más elementos del sistema a refinar

En esta iteración, el enfoque está en los módulos Reservas, Pagos, Solicitudes, Notificaciones y Junta de Inquilinos. Es una buena elección para garantizar que las funcionalidades más críticas se implementen desde el inicio.


### Paso 4: Elegir uno o más conceptos de diseño que satisfacen el driver seleccionado

| **Código** | **Decisión de Diseño** | **Fundamentación** |
|------------|------------------------|--------------------|
| **DEC-10** | Arquitectura de microservicios para gestionar las funcionalidades principales | La arquitectura de microservicios asegura que las funcionalidades críticas como pagos, reservas, comunicaciones y notificaciones estén separadas y puedan escalar de manera independiente, cumpliendo con los requisitos de escalabilidad (CRN-01, CRN-02) y rendimiento (QA-04). |
| **DEC-11** | Uso de Jitsi Meet para la comunicación entre inquilinos | Para el módulo de Junta de Inquilinos (CU13), se utilizará Jitsi Meet como plataforma de comunicación mediante chat y videollamadas, facilitando una comunicación eficiente y segura entre los inquilinos (QA-09). |
| **DEC-12** | Microservicio de notificaciones con Firebase | El microservicio de notificaciones utilizará Firebase para enviar alertas en tiempo real, garantizando notificaciones rápidas y confiables a los usuarios (QA-02). |
| **DEC-13** | Uso de PostgreSQL para almacenamiento persistente de datos | PostgreSQL se utilizará para almacenar de manera segura los datos de reservas, pagos y otros módulos transaccionales, garantizando integridad, consistencia y alta disponibilidad (CON-07). |
| **DEC-14** | Uso de MongoDB para almacenar datos de Junta de Inquilinos y Notificaciones | MongoDB será utilizado para almacenar de manera eficiente los datos menos estructurados o de acceso más frecuente, como los registros de las comunicaciones de la Junta de Inquilinos (CU13) y las Notificaciones. Esto facilitará un acceso más rápido y flexible (QA-08). |


### Paso 5: Instanciar elementos de arquitectura, asignar responsabilidades y definir interfaces

| **Código** | **Decisión de Diseño** | **Fundamentación** |
|------------|------------------------|--------------------|
| **DEC-15** | Responsabilidad del módulo de comunicaciones asignada a Jitsi Meet | El módulo de Junta de Inquilinos (CU13) será responsable de la gestión de comunicaciones (chat y videollamadas) entre los inquilinos, utilizando Jitsi Meet. Esto asegura que se cumpla con los atributos de calidad de usabilidad (QA-09) y accesibilidad (QA-06). |
| **DEC-16** | Microservicio de notificaciones asignado al módulo de notificaciones | Se asignará la gestión de notificaciones a un microservicio dedicado que interactuará con Firebase, permitiendo un flujo asíncrono de notificaciones en tiempo real, garantizando escalabilidad y rendimiento (QA-04, QA-02). |
| **DEC-17** | Microservicio de pagos y reservas dedicado a las funcionalidades correspondientes | El microservicio de pagos y reservas se encargará de gestionar las funcionalidades de pago y reserva (CU01, CU02, CU05, CU06), garantizando la fiabilidad y seguridad de las transacciones (QA-03). |
| **DEC-18** | Uso de MongoDB para la gestión de la Junta de Inquilinos y Notificaciones | MongoDB se utilizará para la gestión de los datos de la Junta de Inquilinos y las Notificaciones, permitiendo el almacenamiento flexible y rápido de estos datos menos estructurados y de alta frecuencia (QA-08). |


### Paso 6: Bosquejar vistas y registrar decisiones de diseño

![Mapeo de modelo de datos](modelo_elementos.png)

### Paso 7: Revision de objetivos

| **No abordado** | **Parcialmente abordado** | **Completamente abordado** | **Decisión de diseño** |
|-----------------|---------------------------|----------------------------|------------------------|
|                 |                           | CU-01                      | DEC-10, DEC-13         |
|                 |                           | CU-02                      | DEC-10, DEC-13         |
|                 |         CU-03             |                       | DEC-13                 |
|                 |             CU-04          |                       | DEC-10, DEC-13         |
|                 |                        |       CU-05                   | DEC-10, DEC-13         |
|                 |                           | CU-06                      | DEC-10, DEC-13         |
|                 |                   CU-08          |                     | DEC-10, DEC-13         |
|                 |                   CU-09        |                       | DEC-10, DEC-13         |
|                 |                           | CU-13                      | DEC-11, DEC-15         |
|                 |                           | CU-15                      | DEC-10, DEC-13         |
|                 |                           | QA-01                      | DEC-10, DEC-13         |
|                 |                           | QA-02                      | DEC-12, DEC-16         |
|                 |                           | QA-03                      | DEC-10, DEC-17         |
|                 |                QA-04           |                       | DEC-10, DEC-13         |
|                 |                     QA-06      |                       | DEC-15                 |
|                 |                           | QA-07                      | DEC-10, DEC-16         |
|                 |                   QA-08         |                      | DEC-14, DEC-18         |
|                 |                           | QA-09                      | DEC-11, DEC-15         |
|                 |                           | CON-01                     | DEC-10, DEC-13         |
|                 |                           | CON-02                     | DEC-10, DEC-13         |
|                 |                 CON-03            |                    | DEC-13, DEC-10         |
|                 |                   CON-04           |                   | DEC-10, DEC-13         |
|                 |                           | CON-05                     | DEC-10, DEC-13         |
|                 |                   CON-06        |                      | DEC-10, DEC-13         |
|                 |                           | CON-07                     | DEC-13, DEC-10         |
|                 |                           | CRN-01                     | DEC-13, DEC-10         |
|                 |                           | CRN-02                     | DEC-10, DEC-14         |
|                 |                           | CRN-03                     | DEC-13, DEC-14         |
|                 |                      CRN-09     |                      | DEC-13, DEC-10         |
|                 |                    CRN-10        |                     | DEC-10, DEC-13         |
